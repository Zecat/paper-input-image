<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../iron-input-image/iron-input-image.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-tile/paper-tile.html">

<!--

Example:

    <paper-input-image></paper-input-image>

@group Seed Elements
@element paper-input-image
@demo demo/index.html
@hero hero.svg
-->
<dom-module id="paper-input-image">

  <template>
    <style>
      :host {
        display: block;
        box-sizing: border-box;
      }
      paper-tile {
        width: 100%;
      }
    </style>
    <input
      id="inputImage"
      is="iron-input-image"
      src="{{src}}"
      title="{{title}}"
      size="{{size}}">
    <paper-tile
      img="[[src]]"
      first-line="[[title]]"
      second-line="[[size]] ko"
      icon="[[_computeIcon(src)]]"
      footer-content
      on-primary-action="choose"
      on-secondary-action="clear">
    </paper-tile>

  </template>

</dom-module>

<script>

  Polymer({

    is: 'paper-input-image',

    properties: {
      title: {
        type: String,
        value: 'No image selected'
      },
      src: {
        type: String,
        value: ''
      },
      size: {
        type: Number,
        value: 0
      }
    },

    choose: function() {
      this.$.inputImage.choose();
    },

    clear: function() {
      this.$.inputImage.clear();
      this.title = 'No image selected';
    },

    _computeIcon: function(src) {
      return src ? 'icons:clear' : '';
    }

  });

</script>
